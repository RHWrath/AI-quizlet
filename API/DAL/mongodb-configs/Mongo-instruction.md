# MongoDB Setup Guide - AI Quizlet

## Prerequisites
This project uses MongoDB to store game data (images, music, and player information).

## Installation Steps

### 1. Download MongoDB
- **MongoDB Community Server**: https://www.mongodb.com/try/download/community
    - Download the ZIP version for Windows
    - Extract the contents

- **MongoDB Shell (mongosh)**: https://www.mongodb.com/try/download/shell
    - Download the ZIP version
    - Extract the contents

### 2. Setup Project Structure
1. Place the MongoDB executables in the project:
   ```
   API/DAL/mongodb-configs/bin/
   ├── mongod.exe
   ├── mongos.exe
   └── mongosh.exe
   ```

2. Create the data directory:
   ```
   API/DAL/mongodb-configs/data/
   ```

3. Create folders for media storage:
   ```
   API/DAL/mongodb-configs/data/images/
   API/DAL/mongodb-configs/data/songs/
   ```

### 3. Start MongoDB Server
Open a terminal and run:
```powershell
cd "API/DAL/mongodb-configs/bin"
.\mongod.exe --dbpath "../data"
```

**Keep this terminal window open** - this is your MongoDB server running.

### 4. Create Database Collections
Open a **new terminal** and run:
```powershell
cd "API/DAL/mongodb-configs/bin"
.\mongosh.exe
```

In the MongoDB shell, execute:
```javascript
// Switch to the quizlet database
use quizlet

// Create the three collections
db.createCollection("images")
db.createCollection("music")
db.createCollection("players")

// Verify collections were created
show collections
```

### 5. Add Sample Data (Optional)
```javascript
// Add sample images
db.images.insertMany([
  { link: "/data/images/ai_landscape.jpg", AI: true },
  { link: "/data/images/real_photo.jpg", AI: false }
])

// Add sample music
db.music.insertMany([
  { link: "/data/songs/ai_generated_beat.mp3", AI: true },
  { link: "/data/songs/real_song.mp3", AI: false }
])

// Add test player
db.players.insertOne({ name: "TestPlayer", score: 0 })

// View the data
db.images.find()
db.music.find()
db.players.find()
```

## Database Structure

### Collections Overview
The database contains three collections:

#### 1. **images** Collection
Stores image files for the AI detection game.

**Fields:**
- `_id`: ObjectId (auto-generated by MongoDB)
- `link`: String - Relative path to the image file (e.g., `/data/images/image001.jpg`)
- `AI`: Boolean - `true` if AI-generated, `false` if real

**Example:**
```json
{
  "_id": ObjectId("..."),
  "link": "/data/images/landscape_001.jpg",
  "AI": true
}
```

#### 2. **music** Collection
Stores music/song files for the AI detection game.

**Fields:**
- `_id`: ObjectId (auto-generated by MongoDB)
- `link`: String - Relative path to the music file (e.g., `/data/songs/song001.mp3`)
- `AI`: Boolean - `true` if AI-generated, `false` if real

**Example:**
```json
{
  "_id": ObjectId("..."),
  "link": "/data/songs/beat_002.mp3",
  "AI": false
}
```

#### 3. **players** Collection
Stores player information and scores.

**Fields:**
- `_id`: ObjectId (auto-generated by MongoDB)
- `name`: String - Player's name
- `score`: Integer - Player's current score

**Example:**
```json
{
  "_id": ObjectId("..."),
  "name": "Rik",
  "score": 150
}
```

## Connection String

Use this connection string in your ASP.NET application:
```
mongodb://localhost:27017/quizlet
```

## Notes

- MongoDB binaries (`mongod.exe`, `mongos.exe`, `mongosh.exe`) are **NOT** included in the git repository due to their size
- Each team member must download and set up MongoDB individually
- The `data/` folder is also gitignored to prevent committing database files
- Make sure the MongoDB server is running before starting the ASP.NET application

## Troubleshooting

**Error: "mongod is not recognized"**
- Make sure you're in the correct directory (`mongodb-configs/bin`)
- Use `.\mongod.exe` instead of just `mongod`

**Error: "Access control is not enabled"**
- This warning is normal for local development
- Don't expose your MongoDB instance to the internet without authentication

**Error: Port 27017 already in use**
- Another MongoDB instance is already running
- Close it or use a different port with `--port` flag